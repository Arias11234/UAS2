<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>UAS2: E:/uas2/Server/Avatar.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>E:/uas2/Server/Avatar.h</h1><a href="_avatar_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">* This file is part of UAS2.</span>
<a name="l00003"></a>00003 <span class="comment">*</span>
<a name="l00004"></a>00004 <span class="comment">* UAS2 is free software; you can redistribute it and/or modify</span>
<a name="l00005"></a>00005 <span class="comment">* it under the terms of the GNU General Public License as published by</span>
<a name="l00006"></a>00006 <span class="comment">* the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00007"></a>00007 <span class="comment">* (at your option) any later version.</span>
<a name="l00008"></a>00008 <span class="comment">*</span>
<a name="l00009"></a>00009 <span class="comment">* UAS2 is distributed in the hope that it will be useful,</span>
<a name="l00010"></a>00010 <span class="comment">* but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00011"></a>00011 <span class="comment">* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00012"></a>00012 <span class="comment">* GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">* You should have received a copy of the GNU General Public License</span>
<a name="l00015"></a>00015 <span class="comment">* along with UASv1; if not, write to the Free Software</span>
<a name="l00016"></a>00016 <span class="comment">* Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00017"></a>00017 <span class="comment">*/</span>
<a name="l00018"></a>00018 
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef __AVATAR_H</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#define __AVATAR_H</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="_object_8h.html">Object.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#define ACID_MODEL 102;</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#define BLADE_MODEL 97;</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#define FLAME_MODEL 85;</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#define FORCE_MODEL 91;</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#define FROST_MODEL 74;</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span><span class="preprocessor">#define LIGHTNING_MODEL 80;</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#define SHOCK_MODEL 69;</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>
<a name="l00038"></a><a class="code" href="classc_avatar.html">00038</a> <span class="keyword">class </span><a class="code" href="classc_avatar.html">cAvatar</a> : <span class="keyword">public</span> <a class="code" href="classc_biotic.html">cBiotic</a>
<a name="l00039"></a>00039 {
<a name="l00040"></a>00040         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_allegiance.html">cAllegiance</a>;
<a name="l00041"></a>00041         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_client.html">cClient</a>;
<a name="l00042"></a>00042         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_database.html">cDatabase</a>;
<a name="l00043"></a>00043         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_fellowship.html">cFellowship</a>;
<a name="l00044"></a>00044         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_portal_dat.html">cPortalDat</a>;
<a name="l00045"></a>00045         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_command_parser.html">cCommandParser</a>;
<a name="l00046"></a>00046         <span class="keyword">friend</span> <span class="keyword">class </span>cMonsterServer;
<a name="l00047"></a>00047         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_n_p_c.html">cNPC</a>;
<a name="l00048"></a>00048         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_world_manager.html">cWorldManager</a>;
<a name="l00049"></a>00049         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_weapon.html">cWeapon</a>;
<a name="l00050"></a>00050         <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classc_world_server.html">cWorldServer</a>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="keyword">public</span>:
<a name="l00053"></a>00053         <span class="keywordtype">float</span> m_flTargetHeading;
<a name="l00054"></a>00054         <a class="code" href="classc_avatar.html">cAvatar</a>( <a class="code" href="structc_location.html">cLocation</a> *pcLoc = NULL ) 
<a name="l00055"></a>00055                 :       m_wCurAnim              ( 5 ), 
<a name="l00056"></a>00056                         m_wMeleeSequence( 0 ), 
<a name="l00057"></a>00057                         m_wMoveCount    ( 0 ),
<a name="l00058"></a>00058                         m_wPortalCount  ( 1 ),
<a name="l00059"></a>00059                         m_pcCombatTarget( NULL ),
<a name="l00060"></a>00060                         <a class="code" href="classc_biotic.html">cBiotic</a>                 ( pcLoc ),
<a name="l00061"></a>00061                         m_bStatSequence ( 0 )
<a name="l00062"></a>00062         {
<a name="l00063"></a>00063                 m_PreviousLocation.m_dwLandBlock = NULL;
<a name="l00064"></a>00064                 m_wNumLogins    = 0;
<a name="l00065"></a>00065                 m_wState                = 0;
<a name="l00066"></a>00066                 m_dwPingCount   = 0;
<a name="l00067"></a>00067                 m_wLifeStone    = 0;
<a name="l00068"></a>00068                 m_wMarketplace  = 0;
<a name="l00069"></a>00069                 m_wHouseRecall  = 0;
<a name="l00070"></a>00070                 m_bFlagCount    = 0;
<a name="l00071"></a>00071                 m_wPKlite               = 0;
<a name="l00072"></a>00072         }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074         <a class="code" href="classc_avatar.html">cAvatar</a>( DWORD guid, <a class="code" href="structc_location.html">cLocation</a> *pcLoc = NULL ) 
<a name="l00075"></a>00075                 :       m_wCurAnim              ( 5 ), 
<a name="l00076"></a>00076                         m_wMoveCount    ( 0 ), 
<a name="l00077"></a>00077                         m_wMeleeSequence( 0 ), 
<a name="l00078"></a>00078                         m_wPortalCount  ( 0 ),
<a name="l00079"></a>00079                         m_pcCombatTarget( NULL ),
<a name="l00080"></a>00080                         <a class="code" href="classc_biotic.html">cBiotic</a>                 ( pcLoc ),
<a name="l00081"></a>00081                         m_bStatSequence ( 0 )
<a name="l00082"></a>00082         {
<a name="l00083"></a>00083                 m_dwGUID                = guid; 
<a name="l00084"></a>00084                 m_wNumLogins    = 0;
<a name="l00085"></a>00085                 m_wState                = 0;
<a name="l00086"></a>00086                 m_dwPingCount   = 0;
<a name="l00087"></a>00087                 m_wLifeStone    = 0;
<a name="l00088"></a>00088                 m_wMarketplace  = 0;
<a name="l00089"></a>00089                 m_wHouseRecall  = 0;
<a name="l00090"></a>00090                 m_bFlagCount    = 0;
<a name="l00091"></a>00091                 m_wPKlite               = 0;
<a name="l00092"></a>00092                 m_wHouseID              = NULL;
<a name="l00093"></a>00093         }
<a name="l00094"></a>00094 
<a name="l00095"></a>00095         ~<a class="code" href="classc_avatar.html">cAvatar</a>( )
<a name="l00096"></a>00096         {
<a name="l00097"></a>00097                 <span class="keywordflow">while</span> ( !m_lstInventory.empty( ) )
<a name="l00098"></a>00098                 {
<a name="l00099"></a>00099                         SAFEDELETE( m_lstInventory.front( ) )
<a name="l00100"></a>00100                         m_lstInventory.pop_front( );
<a name="l00101"></a>00101                 }
<a name="l00102"></a>00102         }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104         <a class="code" href="classc_message.html">cMessage</a>                Portal                                  ( DWORD dwLandblock, <span class="keywordtype">float</span> flX, <span class="keywordtype">float</span> flY, <span class="keywordtype">float</span> flZ, <span class="keywordtype">float</span> flA, <span class="keywordtype">float</span> flW );
<a name="l00105"></a>00105 
<a name="l00106"></a>00106         <span class="comment">/*agentsparrow - Spell routines*/</span>
<a name="l00107"></a>00107         <span class="keyword">static</span> <span class="keywordtype">int</span>              cAvatar::CastMain               ( LPVOID wp, LPVOID lp );
<a name="l00108"></a>00108         <span class="keyword">static</span> <span class="keywordtype">int</span>              cAvatar::WarAnimation1  ( LPVOID wp, LPVOID lp );
<a name="l00109"></a>00109         <span class="keyword">static</span> <span class="keywordtype">int</span>              cAvatar::WarAnimation2  ( LPVOID wp, LPVOID lp );
<a name="l00110"></a>00110         <span class="keyword">static</span> <span class="keywordtype">int</span>              cAvatar::WarAnimation3  ( LPVOID wp, LPVOID lp );
<a name="l00111"></a>00111         <span class="keyword">static</span> <span class="keywordtype">void</span>             <a class="code" href="classc_avatar.html#a42a0f8e18a865d20391b3624c6d7cd42">cAvatar::CastWar</a>                ( LPVOID wp );
<a name="l00112"></a>00112         <span class="keyword">static</span> <span class="keywordtype">void</span>             <a class="code" href="classc_avatar.html#ae6127bd7f228a14c012e6cf0a40f833f">cAvatar::CastLife</a>               ( LPVOID wp );
<a name="l00113"></a>00113         <span class="keyword">static</span> <span class="keywordtype">void</span>             <a class="code" href="classc_avatar.html#ad1106d7b6db231f32bb89228c989f06c">cAvatar::CastCreature</a>   ( LPVOID wp );
<a name="l00114"></a>00114         <span class="keyword">static</span> <span class="keywordtype">void</span>             <a class="code" href="classc_avatar.html#a686c9dc670cc6be69f767ee57c853094">cAvatar::CastItem</a>               ( LPVOID wp );
<a name="l00115"></a>00115         DWORD                   <a class="code" href="classc_avatar.html#ac78e9e7c2f5e9a6a58c0a6d733b829a9">GetHealValue</a>                    ( DWORD dwLevel );
<a name="l00116"></a>00116         DWORD                   <a class="code" href="classc_avatar.html#aa6629f0179c6f1b6e87fa93d0352729a">GetStaminaValue</a>                 ( DWORD dwLevel );
<a name="l00117"></a>00117         <span class="keywordtype">float</span>                   <a class="code" href="classc_avatar.html#a1209d59f48f9c95eb5ff4be744799323">GetRegenIncValue</a>                ( DWORD dwLevel );
<a name="l00118"></a>00118         <span class="keywordtype">float</span>                   <a class="code" href="classc_avatar.html#a2abe86f9e16d0d8496c68cd486973d82">GetRegenDecValue</a>                ( DWORD dwLevel );
<a name="l00119"></a>00119         <span class="keywordtype">float</span>                   <a class="code" href="classc_avatar.html#af93cbfd01d008bd082ba66e8fa0b8127">GetProtValue</a>                    ( DWORD dwLevel );
<a name="l00120"></a>00120         <span class="keywordtype">float</span>                   <a class="code" href="classc_avatar.html#a6e7ff348d93662ffeb9564013b1c0bee">GetVulnValue</a>                    ( DWORD dwLevel );
<a name="l00121"></a>00121         <span class="keywordtype">float</span>                   <a class="code" href="classc_avatar.html#a155e2c15fd2a1fb57b82e454882d3b0e">GetArmorValue</a>                   ( DWORD dwLevel );
<a name="l00122"></a>00122         <span class="keywordtype">float</span>                   <a class="code" href="classc_avatar.html#adb43776e0b8b2a7f7a355deb617b60f3">GetTransferValue</a>                ( DWORD dwLevel );
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         <a class="code" href="classc_message.html">cMessage</a>                LocationPacket                  ( );
<a name="l00125"></a>00125         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a175075d912c99baaf2b12be6643ebb8a">SetPosition</a>                             ( );
<a name="l00126"></a>00126         <span class="keywordtype">void</span>                    SetOptions                              ( DWORD optionsMask );
<a name="l00127"></a>00127         <span class="keyword">inline</span> <a class="code" href="classc_message.html">cMessage</a> Particle                                ( DWORD dwParticleID );
<a name="l00128"></a>00128         <a class="code" href="classc_message.html">cMessage</a>                Animation                               ( WORD wAnim, <span class="keywordtype">float</span> flPlaySpeed = 1.0f );
<a name="l00129"></a>00129         <a class="code" href="classc_message.html">cMessage</a>                WarAnim                                 ( WORD wAnim, <span class="keywordtype">float</span> flPlaySpeed = 1.0f );
<a name="l00130"></a>00130         <a class="code" href="classc_message.html">cMessage</a>                SoundEffect                             ( DWORD dwSound, <span class="keywordtype">float</span> flPlaySpeed = 1.0f );
<a name="l00131"></a>00131         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ae1b08174465721f89c84736597571bca">CreatePacket</a>                    ( );
<a name="l00132"></a>00132         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ae1dde78f337f6ec73b70beb76ed6c697">CreateLoginPacket</a>               ( DWORD F7B0seq );
<a name="l00133"></a>00133         <a class="code" href="classc_message.html">cMessage</a>                SetPackContents                 ( DWORD F7B0seq );
<a name="l00134"></a>00134         <a class="code" href="classc_message.html">cMessage</a>                AllegianceInfo                  ( DWORD F7B0seq );
<a name="l00135"></a>00135         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#abd8f0c80d514445eb14a62072a12e699">HousingInfo</a>                             ( DWORD F7B0seq );
<a name="l00136"></a>00136         <a class="code" href="classc_message.html">cMessage</a>                LoginCharacter                  ( );
<a name="l00137"></a>00137         <span class="keywordtype">void</span>                    LogoutCharacter                 ( );
<a name="l00138"></a>00138         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#af623c12584e28cc9b302e0a550604a5c">Assess</a>                                  ( <a class="code" href="classc_client.html">cClient</a> *pcAssesser );
<a name="l00139"></a>00139         <span class="keywordtype">void</span>                    Action                                  ( <a class="code" href="classc_client.html">cClient</a> *who )         {}
<a name="l00140"></a>00140         <span class="comment">//Find the weapon the PC has equipped</span>
<a name="l00141"></a>00141         <a class="code" href="classc_message.html">cMessage</a>                ChangeCombatMode                ( BOOL fMode, BYTE WieldType );
<a name="l00142"></a>00142         <a class="code" href="classc_message.html">cMessage</a>                ChangeSpellMode                 ( BOOL fMode );
<a name="l00143"></a>00143         <a class="code" href="classc_message.html">cMessage</a>                ChangeMissileMode               ( BOOL fMode, WORD AmmoType);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <span class="keywordtype">float</span>                   GetRange                                ( DWORD dwLandblock, <span class="keywordtype">float</span> flX, <span class="keywordtype">float</span> flY, <span class="keywordtype">float</span> flZ, DWORD dwTargetLandblock, <span class="keywordtype">float</span> flTarX, <span class="keywordtype">float</span> flTarY, <span class="keywordtype">float</span> flTarZ );
<a name="l00146"></a>00146         <span class="keywordtype">float</span>                   GetHeadingTarget                ( DWORD dwLandblock, <span class="keywordtype">float</span> flX, <span class="keywordtype">float</span> flY, <span class="keywordtype">float</span> flZ, DWORD dwTargetLandblock, <span class="keywordtype">float</span> flTarX, <span class="keywordtype">float</span> flTarY, <span class="keywordtype">float</span> flTarZ );
<a name="l00147"></a>00147         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a57ee1a0185c910d2c41a25fc7d325e17">RunToAnimation</a>                  ( DWORD dwGUID, DWORD dwTarget );
<a name="l00148"></a>00148         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a1d3d7314a61c8d84d5c028bf0a190cb8">CombatAnimation</a>                 ( DWORD dwTarget );
<a name="l00149"></a>00149         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ae2cd1c835e43a313dae8e38ea807e089">TurnToTarget</a>                    ( <span class="keywordtype">float</span> flHeading, DWORD dwTargetGUID );
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         <a class="code" href="classc_message.html">cMessage</a>                DoDamageMessage                 ( DWORD F7B0seq, std::string target, DWORD damagetype, <span class="keywordtype">double</span> severity, DWORD amount );
<a name="l00152"></a>00152         <a class="code" href="classc_message.html">cMessage</a>                RecieveDamageMessage    ( DWORD F7B0seq, std::string giver, DWORD damagetype, <span class="keywordtype">double</span> severity, DWORD amount, DWORD location );
<a name="l00153"></a>00153 
<a name="l00154"></a>00154         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a82ae87c20cd32e64a329b68e141c6a13">DecrementHealth</a>                 ( WORD amount, <span class="keywordtype">signed</span> <span class="keywordtype">int</span> &amp;newhealth );
<a name="l00155"></a>00155         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ad6b363ea339dbdc521f55648d852ddc2">DecrementStamina</a>                ( WORD amount, <span class="keywordtype">signed</span> <span class="keywordtype">int</span> &amp;newstamina );
<a name="l00156"></a>00156         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a48963d1209f399c73ce226502b1bb5e7">DecrementMana</a>                   ( WORD amount, <span class="keywordtype">signed</span> <span class="keywordtype">int</span> &amp;newmana );
<a name="l00157"></a>00157         <a class="code" href="classc_message.html">cMessage</a>                AddEnchant                              ( DWORD F7B0seq, DWORD dwSpellID, WORD wEnchantLayer, WORD wSpellFamily, DWORD dwDifficulty, <span class="keywordtype">double</span> dDuration, DWORD dwCasterGUID, <span class="keywordtype">double</span> dTime, DWORD dwFlags, DWORD dwKey, <span class="keywordtype">float</span> flValue );
<a name="l00158"></a>00158         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a0183163e2636c3c085fbc61c4080bee6">RemoveEnchant</a>                   ( DWORD F7B0seq, DWORD dwSpellID, WORD wEnchantLayer );
<a name="l00159"></a>00159 
<a name="l00160"></a>00160         <span class="comment">/* Statistic (burden, xp, rank, etc.) functions */</span>
<a name="l00161"></a>00161         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#a44245d403c49382c6b914d86575e126f">UpdateHuntingExp</a>                ( DWORD amount );
<a name="l00162"></a>00162         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#ab268627663c2e046b4ef43d84a70cfab">UpdateFellowshipExp</a>             ( DWORD amount );
<a name="l00163"></a>00163         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a59a4696ca5001f6429ceec98431dc729">UpdateUnassignedExp</a>             ( DWORD amount );
<a name="l00164"></a>00164         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a1661caa5950c2c3b4ca54637761c249a">UpdateTotalExp</a>                  ( DWORD amount );
<a name="l00165"></a>00165         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ab59f0a7c20951db2eb36c4b61d340671">UpdateSkillExp</a>                  ( DWORD amount, BYTE skill );
<a name="l00166"></a>00166         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#aa2f3e48b3f9268cad2428b80bdad5aa3">UpdateLevel</a>                             ( );
<a name="l00167"></a>00167         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a2b122d102c927c20542426209ec460b2">UpdateBurden</a>                    ( DWORD amount, <span class="keywordtype">int</span> action );
<a name="l00168"></a>00168         <a class="code" href="classc_message.html">cMessage</a>                UpdateRank                              ( DWORD amount );
<a name="l00169"></a>00169         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a4191d00b71373a02a7e0b9068d1f75a0">UpdatePyreals</a>                   ( DWORD amount, <span class="keywordtype">int</span> positive );
<a name="l00170"></a>00170         <a class="code" href="classc_message.html">cMessage</a>                UpdateDeaths                    ( DWORD amount );
<a name="l00171"></a>00171         <a class="code" href="classc_message.html">cMessage</a>                UpdateAge                               ( DWORD amount );
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         <span class="comment">//k109:  Implementation of removing experience.</span>
<a name="l00174"></a>00174         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a611e9595461a97175e27d5082c30c980">DecrementUnassignedExp</a>  ( DWORD amount );
<a name="l00175"></a>00175 
<a name="l00176"></a>00176         <span class="comment">/* Attribute functions  */</span>
<a name="l00177"></a>00177         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#adf7bcd3edac7581d9b330ade1cdce1da">UpdateStrength</a>                  ( DWORD exp );
<a name="l00178"></a>00178         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a2fb8a7ba581dcd1762b5f7de0c2382f7">UpdateEndurance</a>                 ( DWORD exp );
<a name="l00179"></a>00179         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a0602a992f5a84b63161a2012bb0c7aa7">UpdateQuickness</a>                 ( DWORD exp );
<a name="l00180"></a>00180         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a74b9c0601a721a608f433222dba74701">UpdateCoordination</a>      ( DWORD exp );
<a name="l00181"></a>00181         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#aac1f472e7b40652feb706998cece29f6">UpdateFocus</a>                             ( DWORD exp );
<a name="l00182"></a>00182         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a427b48facfc57e45ded822731a4ffb4e">UpdateSelf</a>                              ( DWORD exp );
<a name="l00183"></a>00183 
<a name="l00184"></a>00184         <span class="comment">/* Vital functions */</span>
<a name="l00185"></a>00185         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#af7adfb748ae1cab38f79d919b77e66f0">CalcVital</a>                               ( WORD vitalID );
<a name="l00186"></a>00186         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a55cee785b4759c48d829ce1fc6733ed0">RaiseHealth</a>                             ( DWORD exp );
<a name="l00187"></a>00187         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#afcb6c417d17356e42449aed987a324c6">RaiseStamina</a>                    ( DWORD exp );
<a name="l00188"></a>00188         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a1a3261190f404d5eb914c08b458663e8">RaiseMana</a>                               ( DWORD exp );
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         <a class="code" href="classc_message.html">cMessage</a>                AdjustHealthBar                 (DWORD dwGUID, DWORD F7B0Sequence );
<a name="l00191"></a>00191         
<a name="l00192"></a>00192         <span class="comment">/* Skill functions */</span>
<a name="l00193"></a>00193         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#aac9d3cec28d18edeb2434c3345c8807f">CalcSkill</a>                               ( DWORD skillID );
<a name="l00194"></a>00194         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a1c46bc4e186d639804cc07ae96eb5ba6">UpdateSkill</a>                             ( DWORD skillID, DWORD exp );
<a name="l00195"></a>00195 
<a name="l00196"></a>00196         <a class="code" href="classc_message.html">cMessage</a>                AttackCompleteMessage   ( DWORD F7B0seq );
<a name="l00197"></a>00197         <a class="code" href="classc_message.html">cMessage</a>                AttackBeginMessage              ( DWORD F7B0seq, DWORD pcGUID );
<a name="l00198"></a>00198 
<a name="l00199"></a>00199         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ac8b5001031073c7c59dc75888fc33f57">SetHealth</a>                               ( DWORD dwNewHealth );
<a name="l00200"></a>00200         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a4d1b36444754b08c9b2d97fc83deca71">SetStamina</a>                              ( DWORD dwNewStamina );
<a name="l00201"></a>00201         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ab85ea60b06ea55d4133333ed3c99454f">SetMana</a>                                 ( DWORD dwNewMana );
<a name="l00202"></a>00202 
<a name="l00203"></a>00203         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#aaeb3124e32c4ef6eb2f551a1b55bb06e">UpdateHealth</a>                    ( WORD amount, <span class="keywordtype">signed</span> <span class="keywordtype">int</span> &amp;newvalue );
<a name="l00204"></a>00204         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a0a3585a315cb0b404c43a45678b4a762">UpdateStamina</a>                   ( WORD amount, <span class="keywordtype">signed</span> <span class="keywordtype">int</span> &amp;newvalue );
<a name="l00205"></a>00205         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#aad38a76a8ddd090ce06cabdc486f27c7">UpdateMana</a>                              ( WORD amount, <span class="keywordtype">signed</span> <span class="keywordtype">int</span> &amp;newvalue );
<a name="l00206"></a>00206 
<a name="l00207"></a>00207         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a03bb03c46f8a50543266d2fc3a9f1e53">HouseAbandon</a>                    ( DWORD F7B0seq );
<a name="l00208"></a>00208         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#a118e9607664e96c29c43eb12f9bdd0fd">HouseGuestAdd</a>                   ( <span class="keywordtype">char</span> strGuestName[50] );
<a name="l00209"></a>00209         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#ac6b03609e50e828cb241cede4eefd197">HouseGuestRemoveName</a>    ( <span class="keywordtype">char</span> strGuestName[50] );
<a name="l00210"></a>00210         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#a1644cffa1e9b7b2c01919cd1ea2437fe">HouseOpenClose</a>                  ( DWORD IsOpen );
<a name="l00211"></a>00211         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#afe1ea77a45fac16a33c396c5bc8b66fc">HouseStorage</a>                    ( <span class="keywordtype">char</span> strGuestName[50], DWORD dwStorageSet );
<a name="l00212"></a>00212         <span class="keywordtype">void</span>                    HouseBootName                   ( <span class="keywordtype">char</span> strGuestName[50] );
<a name="l00213"></a>00213         <span class="keywordtype">void</span>                    <a class="code" href="classc_avatar.html#a028493e8018475b38d344b9a584453ec">HouseStorageRemoveAll</a>   ( );
<a name="l00214"></a>00214         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#abb60d40200e991aabbe7385125ef9ee0">HouseGuestList</a>                  ( DWORD F7B0seq );
<a name="l00215"></a>00215 
<a name="l00216"></a>00216         DWORD                   CalculateDamage                 ( <a class="code" href="classc_object.html">cObject</a> *pcWeapon, <span class="keywordtype">float</span> flPower, <span class="keywordtype">float</span> flResistance );
<a name="l00217"></a>00217         <a class="code" href="classc_message.html">cMessage</a>                WindupAnimation                 ( WORD wAnim1, <span class="keywordtype">float</span> flPlaySpeed );
<a name="l00218"></a>00218         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ab079a47d174af2c5c8d9bb1422ada34d">WarAnimation</a>                    ( WORD wAnim1, <span class="keywordtype">float</span> flPlaySpeed );
<a name="l00219"></a>00219         <a class="code" href="classc_message.html">cMessage</a>                WarAnimation2                   ( <span class="keywordtype">float</span> flPlaySpeed );
<a name="l00220"></a>00220         <span class="keywordtype">void</span>                    SetLifestone                    ( <a class="code" href="structc_location.html">cLocation</a> myLifestone );
<a name="l00221"></a>00221         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#aec4e4a806cf1ffd9de6bb32e0ec0bb17">LifestoneRecall</a>                 ( );
<a name="l00222"></a>00222         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a640cd372c7a4370dd4b8389482e31284">LSAnimate</a>                               ( );
<a name="l00223"></a>00223         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a82ac07ceb7a4af812892ab956afb3975">LSMessage</a>                               ( );
<a name="l00224"></a>00224         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#aa17766f8473edae44fa7b3994e54e373">MarketplaceRecall</a>               ( );
<a name="l00225"></a>00225         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a6fcacdac28d2adc0b817c647cab50d8e">MPAnimate</a>                               ( );
<a name="l00226"></a>00226         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#ae0f9621119cdaa439c0070908f3565bd">MPMessage</a>                               ( );
<a name="l00227"></a>00227         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a9701fb7a38c26feca3d01431090cc74b">HouseRecall</a>                             ( );
<a name="l00228"></a>00228         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a1c590a766eeb4c8f4d4b9f252cd94990">HRAnimate</a>                               ( );
<a name="l00229"></a>00229         <a class="code" href="classc_message.html">cMessage</a>                <a class="code" href="classc_avatar.html#a5bca0768dbc5cfd2f7c859113d7dc750">HRMessage</a>                               ( );
<a name="l00230"></a>00230         <a class="code" href="classc_message.html">cMessage</a>                ConfirmPanelRequest             ( DWORD F7B0seq, DWORD type, DWORD ConfirmSeq, std::string targetName );
<a name="l00231"></a>00231         
<a name="l00232"></a>00232         <span class="keywordtype">void</span>                    SetIsPK_DB                              ( );
<a name="l00233"></a>00233 
<a name="l00234"></a>00234         <span class="keyword">inline</span>  DWORD   GetAllegianceID                 ( )     { <span class="keywordflow">return</span> m_dwAllegianceID; }
<a name="l00235"></a>00235         <span class="keyword">inline</span>  DWORD   GetFellowshipID                 ( )     { <span class="keywordflow">return</span> m_dwFellowshipID; }
<a name="l00236"></a>00236         <span class="keyword">inline</span>  WORD    GetGender                               ( )     { <span class="keywordflow">return</span> m_wGender; }
<a name="l00237"></a>00237         <span class="keyword">inline</span>  WORD    GetRace                                 ( )     { <span class="keywordflow">return</span> m_wRace; }
<a name="l00238"></a>00238         <span class="keyword">inline</span>  WORD    GetRank                                 ( )     { <span class="keywordflow">return</span> m_wRank; }
<a name="l00239"></a>00239 
<a name="l00240"></a>00240         <span class="comment">//Cube:  We should have some functions that get the avatars current attributes values</span>
<a name="l00241"></a>00241         <span class="keyword">inline</span>  DWORD   GetTotalStrength                ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcAttributes[0].m_dwCurrent; }
<a name="l00242"></a>00242         <span class="keyword">inline</span>  DWORD   GetTotalEndurance               ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcAttributes[1].m_dwCurrent; }
<a name="l00243"></a>00243         <span class="keyword">inline</span>  DWORD   GetTotalQuickness               ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcAttributes[2].m_dwCurrent; }
<a name="l00244"></a>00244         <span class="keyword">inline</span>  DWORD   GetTotalCoordination    ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcAttributes[3].m_dwCurrent; }
<a name="l00245"></a>00245         <span class="keyword">inline</span>  DWORD   GetTotalFocus                   ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcAttributes[4].m_dwCurrent; }
<a name="l00246"></a>00246         <span class="keyword">inline</span>  DWORD   GetTotalSelf                    ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcAttributes[5].m_dwCurrent; }
<a name="l00247"></a>00247 
<a name="l00248"></a>00248         <span class="keyword">inline</span>  WORD    GetTotalHealth                  ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcVitals[0].m_dwCurrent; }
<a name="l00249"></a>00249         <span class="keyword">inline</span>  WORD    GetTotalStamina                 ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcVitals[1].m_dwCurrent; }
<a name="l00250"></a>00250         <span class="keyword">inline</span>  WORD    GetTotalMana                    ( ) { <span class="keywordflow">return</span> m_cStats.m_lpcVitals[2].m_dwCurrent; }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <span class="keyword">inline</span>  WORD    GetTotalLoyalty                 ( )     { <span class="keywordflow">return</span> m_cStats.m_lpcSkills[36].m_dwTotal; }
<a name="l00253"></a>00253         <span class="keyword">inline</span>  WORD    GetTotalLeadership              ( )     { <span class="keywordflow">return</span> m_cStats.m_lpcSkills[35].m_dwTotal; }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255         <span class="keyword">inline</span>  <span class="keywordtype">void</span>    SetAllegianceID                 ( DWORD newAllegianceID )       { m_dwAllegianceID = newAllegianceID; }
<a name="l00256"></a>00256         <span class="keyword">inline</span>  <span class="keywordtype">void</span>    SetFellowshipID                 ( DWORD newFellowshipID )       { m_dwFellowshipID = newFellowshipID; }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258         <span class="comment">//Functions for SQL updates</span>
<a name="l00259"></a>00259         <span class="keywordtype">void</span> UpdateQuestCompletedTable                  ( DWORD dwAvatarGUID, DWORD quest_id );
<a name="l00260"></a>00260         <span class="keywordtype">void</span> <a class="code" href="classc_avatar.html#a3baccd77d4023eb2b6979fe7f32df294">SaveToDB</a>                                                   ( );
<a name="l00261"></a>00261         <span class="keywordtype">void</span> UpdateAllegianceDB                                 ( );
<a name="l00262"></a>00262         <span class="keywordtype">void</span> <a class="code" href="classc_avatar.html#ab86522a7e7d3dd18a7c6109b0bfdcf90">UpdateAvatarLocation</a>                               ( );
<a name="l00263"></a>00263 
<a name="l00264"></a>00264         <span class="keywordtype">void</span> AddItemToInvDB                                             ( DWORD dwAvatarGUID, <a class="code" href="classc_object.html">cObject</a> *pcObject );
<a name="l00265"></a>00265         <span class="keywordtype">void</span> DeleteItemFromInvDB                                ( DWORD dwAvatarGUID, <a class="code" href="classc_object.html">cObject</a> *pcObject );
<a name="l00266"></a>00266         <span class="keywordtype">void</span> <a class="code" href="classc_avatar.html#ac4e6bb333209033e570712838d95c3c0">UpdateUnassignedXPDB</a>                               ( <a class="code" href="classc_client.html">cClient</a> *who, DWORD exp );
<a name="l00267"></a>00267         <span class="keywordtype">void</span> <a class="code" href="classc_avatar.html#aa264561cafa248895b595a46c43ed6d3">UpdateTotalXPDB</a>                                    ( <a class="code" href="classc_client.html">cClient</a> *who, DWORD exp );
<a name="l00268"></a>00268         <span class="keywordtype">void</span> <a class="code" href="classc_avatar.html#ab924ce732d66c8f817e4e0731c316ee5">UpdateLevelDB</a>                                              ( <a class="code" href="classc_client.html">cClient</a> *who );
<a name="l00269"></a>00269 
<a name="l00270"></a>00270         <span class="comment">//Change Model</span>
<a name="l00271"></a>00271         <a class="code" href="classc_message.html">cMessage</a> UpdateAvatarPalette                    ( );
<a name="l00272"></a>00272         <a class="code" href="classc_message.html">cMessage</a> UpdateAvatarTexture                    ( );
<a name="l00273"></a>00273         <a class="code" href="classc_message.html">cMessage</a> UpdateAvatarModel                              ( );
<a name="l00274"></a>00274 
<a name="l00275"></a>00275         <span class="comment">//Allegiances</span>
<a name="l00276"></a>00276         DWORD   GetAllegianceFromDB                             ( );
<a name="l00277"></a>00277         <span class="keywordtype">void</span>    BreakAllegiance                                 ( );
<a name="l00278"></a>00278         <span class="keywordtype">void</span>    SwearAllegiance                                 ( std::string szTargetName, DWORD dwReply, DWORD dwSenderGUID );
<a name="l00279"></a>00279         <span class="keywordtype">void</span>    SwearAllegianceReply                    ( std::string szTargetName, DWORD dwReply );
<a name="l00280"></a>00280         <span class="keywordtype">void</span>    BreakAllegiance                                 ( DWORD dwMemberGUID );
<a name="l00281"></a>00281         <span class="keywordtype">void</span>    BreakAllegianceReply                    ( std::string szMemberName );
<a name="l00282"></a>00282         
<a name="l00283"></a>00283         <span class="comment">//Fellowships</span>
<a name="l00284"></a>00284         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#af89aeda0e238774d08d71ef507e19b11">CreateFellowship</a>                                ( DWORD F7B0Sequence, <span class="keywordtype">char</span> strFellowName[50] );
<a name="l00285"></a>00285         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#a556c9f8f4d2c43199da3c1bac1246dda">DisbandFellowship</a>                               ( );
<a name="l00286"></a>00286         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#a54fcf5c46c260677b9b7224d0a49e674">OpenCloseFellowship</a>                             ( DWORD dwOpen );
<a name="l00287"></a>00287         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#a09822c511440e34dd5d4fd2e9dbe3711">FellowshipLeader</a>                                ( DWORD dwNewLeaderGUID );
<a name="l00288"></a>00288         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#a3c56a39da77d5b89ef43b54c0621b174">FellowshipRecruitSend</a>                   ( std::string szTargetName, DWORD dwReply, DWORD dwReceiptGUID );
<a name="l00289"></a>00289         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#aa075c4d62c74fca9b325c54ea9840ac9">FellowshipRecruitRecv</a>                   ( std::string szTargetName, DWORD dwReply, DWORD dwSenderGUID );
<a name="l00290"></a>00290         <span class="keywordtype">void</span>    <a class="code" href="classc_avatar.html#ac67f2948c2940e35cca5b7640c5bb619">FellowshipDismiss</a>                               ( DWORD dwMemberGUID );
<a name="l00291"></a>00291 
<a name="l00292"></a>00292         <span class="comment">//Total Experience</span>
<a name="l00293"></a>00293         <span class="keyword">inline</span> DWORD AwardTotalExp(DWORD txpamount)
<a name="l00294"></a>00294         {
<a name="l00295"></a>00295                 <span class="keywordflow">if</span> (m_dwTotalXP &lt; 4294967295)
<a name="l00296"></a>00296                         m_dwTotalXP = m_dwTotalXP + txpamount;
<a name="l00297"></a>00297                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_dwTotalXP &gt; 4294967295)
<a name="l00298"></a>00298                         m_dwTotalXP = 4294967295;
<a name="l00299"></a>00299                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_dwTotalXP == 4294967295)
<a name="l00300"></a>00300                         m_dwTotalXP += 0;
<a name="l00301"></a>00301                 
<a name="l00302"></a>00302                 <span class="keywordflow">return</span> m_dwTotalXP;
<a name="l00303"></a>00303         }
<a name="l00304"></a>00304 
<a name="l00305"></a>00305         <span class="comment">//k109:  Changed these functions to increase and decrease.</span>
<a name="l00306"></a>00306 
<a name="l00307"></a>00307         <span class="comment">//Unassigend Experience Increase</span>
<a name="l00308"></a>00308         <span class="keyword">inline</span> DWORD AwardUnassignedXP(DWORD uxpamount)
<a name="l00309"></a>00309         {
<a name="l00310"></a>00310                 <span class="keywordflow">if</span> (m_dwUnassignedXP &lt; 4294967295)
<a name="l00311"></a>00311                         m_dwUnassignedXP = m_dwUnassignedXP + uxpamount;
<a name="l00312"></a>00312                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_dwUnassignedXP &gt; 4294967295)
<a name="l00313"></a>00313                         m_dwUnassignedXP = 4294967295;
<a name="l00314"></a>00314                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_dwUnassignedXP == 4294967295)
<a name="l00315"></a>00315                         m_dwUnassignedXP += 0;
<a name="l00316"></a>00316 
<a name="l00317"></a>00317                 <span class="keywordflow">return</span> m_dwUnassignedXP;
<a name="l00318"></a>00318         }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320         <span class="comment">//Unassigend Experience Decrease</span>
<a name="l00321"></a>00321         <span class="keyword">inline</span> <span class="keywordtype">int</span> SpendUnassignedXP(<span class="keywordtype">int</span> uxpamount)
<a name="l00322"></a>00322         {
<a name="l00323"></a>00323                 m_dwUnassignedXP = m_dwUnassignedXP - uxpamount;
<a name="l00324"></a>00324                 <span class="keywordflow">return</span> m_dwUnassignedXP;
<a name="l00325"></a>00325         }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327         <span class="comment">//Add Burden</span>
<a name="l00328"></a>00328         <span class="keyword">inline</span> <span class="keywordtype">int</span> AddBurden(<span class="keywordtype">int</span> amount)
<a name="l00329"></a>00329         {
<a name="l00330"></a>00330                 m_dwBurden = m_dwBurden + amount;
<a name="l00331"></a>00331                 <span class="keywordflow">return</span> m_dwBurden;
<a name="l00332"></a>00332         }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334         <span class="comment">//Remove Burden</span>
<a name="l00335"></a>00335         <span class="keyword">inline</span> <span class="keywordtype">int</span> RemoveBurden(<span class="keywordtype">int</span> amount)
<a name="l00336"></a>00336         {
<a name="l00337"></a>00337                 m_dwBurden = m_dwBurden - amount;
<a name="l00338"></a>00338                 <span class="keywordflow">return</span> m_dwBurden;
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340 
<a name="l00341"></a>00341         <span class="comment">//Add Pyreals</span>
<a name="l00342"></a>00342         <span class="keyword">inline</span> DWORD AddPyreals(DWORD amount)
<a name="l00343"></a>00343         {
<a name="l00344"></a>00344                 m_dwPyreals = m_dwPyreals + amount;
<a name="l00345"></a>00345                 <span class="keywordflow">return</span> m_dwPyreals;
<a name="l00346"></a>00346         }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348         <span class="comment">//Remove Pyreals</span>
<a name="l00349"></a>00349         <span class="keyword">inline</span> DWORD RemovePyreals(DWORD amount)
<a name="l00350"></a>00350         {
<a name="l00351"></a>00351                 m_dwPyreals = m_dwPyreals - amount;
<a name="l00352"></a>00352                 <span class="keywordflow">return</span> m_dwPyreals;
<a name="l00353"></a>00353         }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355         <span class="keyword">inline</span> <span class="keywordtype">int</span> EatStaminaFood(<span class="keywordtype">int</span> amount)
<a name="l00356"></a>00356         {
<a name="l00357"></a>00357                 <span class="keywordtype">int</span> update = amount;
<a name="l00358"></a>00358                 <span class="keywordflow">return</span> update;
<a name="l00359"></a>00359         }
<a name="l00360"></a>00360         
<a name="l00361"></a>00361         <span class="comment">/* Cubem0j0: Add damage reduction based on AL */</span>
<a name="l00362"></a>00362         <span class="keyword">inline</span> <span class="keywordtype">int</span> ALDamageReduction( DWORD alvalue )
<a name="l00363"></a>00363         {
<a name="l00364"></a>00364                 <span class="keywordtype">float</span> dam_reduce = (1/1+alvalue/60);
<a name="l00365"></a>00365                 <span class="keywordflow">return</span> dam_reduce;
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367 
<a name="l00368"></a>00368         <span class="keyword">inline</span> <span class="keywordtype">void</span> SetCombatTarget( <a class="code" href="classc_object.html">cObject</a> *pcObject ) 
<a name="l00369"></a>00369         { 
<a name="l00370"></a>00370                 m_pcCombatTarget = pcObject; 
<a name="l00371"></a>00371         }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373         <span class="keyword">inline</span> <span class="keywordtype">void</span> AddInventory( <a class="code" href="classc_object.html">cObject</a> *pcObject )
<a name="l00374"></a>00374         {
<a name="l00375"></a>00375                 m_lstInventory.push_back( pcObject );
<a name="l00376"></a>00376                 pcObject-&gt;m_fIsOwned = TRUE;
<a name="l00377"></a>00377                 pcObject-&gt;m_dwContainer = m_dwGUID;
<a name="l00378"></a>00378         }
<a name="l00379"></a>00379 
<a name="l00380"></a>00380         <span class="keyword">inline</span> <span class="keywordtype">void</span> RemoveInventory( <a class="code" href="classc_object.html">cObject</a> *pcObject )
<a name="l00381"></a>00381         {
<a name="l00382"></a>00382                 iterObject_lst itObject = std::find( m_lstInventory.begin( ), m_lstInventory.end( ), pcObject );
<a name="l00383"></a>00383 
<a name="l00384"></a>00384                 <span class="keywordflow">if</span> ( itObject != m_lstInventory.end( ) )
<a name="l00385"></a>00385                         m_lstInventory.erase( itObject );
<a name="l00386"></a>00386                 pcObject-&gt;m_fIsOwned = FALSE;
<a name="l00387"></a>00387                 pcObject-&gt;m_dwContainer = NULL;
<a name="l00388"></a>00388         }
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         <span class="keyword">inline</span> <a class="code" href="classc_object.html">cObject</a> *FindInventory( DWORD dwGUID )
<a name="l00391"></a>00391         {
<a name="l00392"></a>00392                 <span class="keywordflow">for</span> ( iterObject_lst itObject = m_lstInventory.begin( ); itObject != m_lstInventory.end( ); ++itObject )
<a name="l00393"></a>00393                 {
<a name="l00394"></a>00394                         <span class="keywordflow">if</span> ( dwGUID == (*itObject)-&gt;GetGUID( ) )
<a name="l00395"></a>00395                                 <span class="keywordflow">return</span> *itObject;
<a name="l00396"></a>00396                 }
<a name="l00397"></a>00397                 <span class="keywordflow">return</span> NULL;
<a name="l00398"></a>00398         }
<a name="l00399"></a>00399 
<a name="l00400"></a>00400         <span class="comment">//k109:  AL :p</span>
<a name="l00401"></a>00401         <span class="keyword">inline</span> DWORD SetArmorLevel (DWORD AL)
<a name="l00402"></a>00402         {
<a name="l00403"></a>00403                 Armor_Level = AL;
<a name="l00404"></a>00404                 <span class="keywordflow">return</span> AL;
<a name="l00405"></a>00405         }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407         <span class="keyword">inline</span> DWORD GetLevel(DWORD totalxp)
<a name="l00408"></a>00408         {
<a name="l00409"></a>00409                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> level = floor(pow((<span class="keywordtype">double</span>)9 * totalxp + 7776,(<span class="keywordtype">float</span>)1/5) - 6) + 1;
<a name="l00410"></a>00410                 <span class="keywordflow">return</span> level;
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413         <span class="keyword">inline</span> <span class="keywordtype">void</span> DeleteFromInventory( <a class="code" href="classc_object.html">cObject</a> *pcObject )
<a name="l00414"></a>00414         {
<a name="l00415"></a>00415                 iterObject_lst itObject = std::find( m_lstInventory.begin( ), m_lstInventory.end( ), pcObject );
<a name="l00416"></a>00416 
<a name="l00417"></a>00417                 <span class="keywordflow">if</span> ( itObject != m_lstInventory.end( ) )
<a name="l00418"></a>00418                         m_lstInventory.erase( itObject );
<a name="l00419"></a>00419         }
<a name="l00420"></a>00420 
<a name="l00421"></a>00421         <span class="keywordtype">void</span> CreateChildren( <a class="code" href="classc_client.html">cClient</a> *pcClientDestination );
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         WORD            m_wCurAnim;
<a name="l00424"></a>00424         WORD            m_wMeleeSequence;
<a name="l00425"></a>00425         WORD            m_wPortalCount;
<a name="l00426"></a>00426         WORD            m_wMoveCount;
<a name="l00427"></a>00427         BYTE            m_bStatSequence;
<a name="l00428"></a>00428         WORD            m_wModelSequenceType;
<a name="l00429"></a>00429         WORD            m_wModelSequence;
<a name="l00430"></a>00430         WORD            m_wModelNum;
<a name="l00431"></a>00431         <span class="keywordtype">float</span>           m_flAScale;
<a name="l00432"></a>00432         BYTE            m_bAccessLevel;
<a name="l00433"></a>00433         WORD            m_wState;
<a name="l00434"></a>00434         DWORD           m_dwPingCount;
<a name="l00435"></a>00435         WORD            m_wLifeStone;
<a name="l00436"></a>00436         WORD            m_wMarketplace;
<a name="l00437"></a>00437         WORD            m_wHouseRecall;
<a name="l00438"></a>00438         WORD            m_wHouseID;
<a name="l00439"></a>00439         WORD            m_wPKlite;
<a name="l00440"></a>00440         WORD            m_wTimedEvent;
<a name="l00441"></a>00441         DWORD           m_dwNumFollowers;
<a name="l00442"></a>00442         DWORD           m_dwNumDeaths;
<a name="l00443"></a>00443         BYTE            m_bFlagCount;
<a name="l00444"></a>00444                 
<a name="l00445"></a>00445         <span class="comment">// Spell Variables</span>
<a name="l00446"></a>00446         WORD            m_wSpellCount;
<a name="l00447"></a>00447         DWORD           m_dwSpellUnknown;
<a name="l00448"></a>00448         <a class="code" href="structc_spell_book.html">cSpellBook</a>      m_SpellBook[100];
<a name="l00449"></a>00449         <a class="code" href="structc_spell_tab.html">cSpellTab</a>       m_SpellTabs[7];
<a name="l00450"></a>00450         DWORD           m_dwInventoryCount;
<a name="l00451"></a>00451         <a class="code" href="classc_inventory.html">cInventory</a>      m_Inventory[300];
<a name="l00452"></a>00452         <a class="code" href="structv_inventory.html">vInventory</a>      m_vInventory[300];
<a name="l00453"></a>00453         
<a name="l00454"></a>00454         <span class="comment">//Cube:  Array to hold inventory item GUIDs</span>
<a name="l00455"></a>00455         DWORD m_InvGUIDs[300];
<a name="l00456"></a>00456 
<a name="l00457"></a>00457         <a class="code" href="structc_location.html">cLocation</a>       m_PreviousLocation;
<a name="l00458"></a>00458         <a class="code" href="structc_stats.html">cStats</a>          m_cStats;
<a name="l00459"></a>00459         BYTE            m_fIsPK;
<a name="l00460"></a>00460         DWORD           m_CorpseTarget;
<a name="l00461"></a>00461         DWORD           m_DmgTypeEquipped;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463         <span class="comment">//Fellowship stuff</span>
<a name="l00464"></a>00464         <span class="keywordtype">bool</span>            inFellow;
<a name="l00465"></a>00465 
<a name="l00466"></a>00466         <span class="comment">//Character Option Flag</span>
<a name="l00467"></a>00467         DWORD           m_dwOptions;
<a name="l00468"></a>00468         
<a name="l00469"></a>00469         std::list&lt; cObject * &gt;  m_lstInventory;
<a name="l00470"></a>00470         std::string sAccount_Name;
<a name="l00471"></a>00471 
<a name="l00472"></a>00472         <a class="code" href="classc_weapon.html">cWeapon</a> *myWeapon;
<a name="l00473"></a>00473         <a class="code" href="classc_shield.html">cShield</a> *myShield;
<a name="l00474"></a>00474         <a class="code" href="classc_ammo.html">cAmmo</a>   *myAmmo;
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 <span class="keyword">private</span>:
<a name="l00477"></a>00477         <span class="keywordtype">char</span>            m_strCharacterName[32];
<a name="l00478"></a>00478 
<a name="l00479"></a>00479         DWORD           m_dwBurden;
<a name="l00480"></a>00480         DWORD           m_dwPyreals;
<a name="l00481"></a>00481         DWORD           m_dwTotalXP;
<a name="l00482"></a>00482         DWORD           m_dwUnassignedXP;
<a name="l00483"></a>00483         WORD            m_wRank;
<a name="l00484"></a>00484         BYTE            m_bTotalSkillCredits;
<a name="l00485"></a>00485         BYTE            m_bSkillCredits;
<a name="l00486"></a>00486         DWORD           m_dwDeaths;
<a name="l00487"></a>00487         DWORD           m_dwBirth;
<a name="l00488"></a>00488         DWORD           m_dwNumLogins;
<a name="l00489"></a>00489         
<a name="l00490"></a>00490         <span class="comment">//Cubem0j0: Add support for Avatar armor level.</span>
<a name="l00491"></a>00491         DWORD           Armor_Level;
<a name="l00492"></a>00492         DWORD           m_dwTotal_exp_spent_strength;
<a name="l00493"></a>00493 
<a name="l00494"></a>00494         <a class="code" href="classc_object.html">cObject</a>         *m_pcCombatTarget;
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         WORD            m_wRace;
<a name="l00497"></a>00497         WORD            m_wGender;
<a name="l00498"></a>00498         WORD            m_wClass;
<a name="l00499"></a>00499 
<a name="l00500"></a>00500         <span class="keywordtype">char</span>            m_strRaceName[20];
<a name="l00501"></a>00501         <span class="keywordtype">char</span>            m_strSexName[20];
<a name="l00502"></a>00502         <span class="keywordtype">char</span>            m_strClassName[20];
<a name="l00503"></a>00503 
<a name="l00504"></a>00504         <span class="keywordtype">double</span>          m_dblSkinShade;
<a name="l00505"></a>00505         WORD            m_wHairColor;
<a name="l00506"></a>00506         <span class="keywordtype">double</span>          m_dblHairShade;
<a name="l00507"></a>00507         WORD            m_wHairStyle;
<a name="l00508"></a>00508         WORD            m_wEyeColor;
<a name="l00509"></a>00509 
<a name="l00510"></a>00510         WORD            m_wHead;
<a name="l00511"></a>00511         WORD            m_wNose;
<a name="l00512"></a>00512         WORD            m_wChin;
<a name="l00513"></a>00513 
<a name="l00514"></a>00514         WORD            m_wPaletteCode;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516         <span class="comment">//k109:  Added this for books.</span>
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 
<a name="l00519"></a>00519         <span class="comment">//k109:  Struct for palette:</span>
<a name="l00520"></a>00520         <span class="keyword">struct </span>PaletteChange
<a name="l00521"></a>00521         {
<a name="l00522"></a>00522                 WORD m_wNewPalette;
<a name="l00523"></a>00523                 BYTE m_ucOffset;
<a name="l00524"></a>00524                 BYTE m_ucLength;
<a name="l00525"></a>00525         } pc;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527         <span class="comment">//k109: Struct for Texture Change</span>
<a name="l00528"></a>00528 <span class="preprocessor">        #pragma pack( push, 1 )</span>
<a name="l00529"></a>00529 <span class="preprocessor"></span>        <span class="keyword">struct </span>TextureChange
<a name="l00530"></a>00530         {
<a name="l00531"></a>00531                 BYTE m_bModelIndex;
<a name="l00532"></a>00532                 WORD m_wOldTexture;
<a name="l00533"></a>00533                 WORD m_wNewTexture;
<a name="l00534"></a>00534         } tc;
<a name="l00535"></a>00535 <span class="preprocessor">        #pragma pack(pop)</span>
<a name="l00536"></a>00536 <span class="preprocessor"></span>
<a name="l00537"></a>00537         <span class="comment">//k109: Struct for Model Change</span>
<a name="l00538"></a>00538 <span class="preprocessor">        #pragma pack( push, 1 )</span>
<a name="l00539"></a>00539 <span class="preprocessor"></span>        <span class="keyword">struct </span>ModelChange
<a name="l00540"></a>00540         {
<a name="l00541"></a>00541                 BYTE m_bModelIndex;
<a name="l00542"></a>00542                 WORD m_wNewModel;
<a name="l00543"></a>00543         } mc;
<a name="l00544"></a>00544 <span class="preprocessor">        #pragma pack(pop)</span>
<a name="l00545"></a>00545 <span class="preprocessor"></span>
<a name="l00546"></a>00546 
<a name="l00547"></a>00547         <span class="comment">//k109: variables for holding Base Attributes</span>
<a name="l00548"></a>00548         <span class="keywordtype">int</span> base_strength;
<a name="l00549"></a>00549         <span class="keywordtype">int</span> base_endurance;
<a name="l00550"></a>00550         <span class="keywordtype">int</span> base_coordination;
<a name="l00551"></a>00551         <span class="keywordtype">int</span> base_quickness;
<a name="l00552"></a>00552         <span class="keywordtype">int</span> base_focus;
<a name="l00553"></a>00553         <span class="keywordtype">int</span> base_self;
<a name="l00554"></a>00554 
<a name="l00555"></a>00555         <span class="comment">//k109: variables for holding base Vitals</span>
<a name="l00556"></a>00556         <span class="keywordtype">int</span> base_health;
<a name="l00557"></a>00557         <span class="keywordtype">int</span> base_stamina;
<a name="l00558"></a>00558         <span class="keywordtype">int</span> base_mana;
<a name="l00559"></a>00559 
<a name="l00560"></a>00560         <span class="comment">//also need vars to hold current exp spent on Attributes</span>
<a name="l00561"></a>00561         DWORD strength_exp_cost;
<a name="l00562"></a>00562         DWORD endurance_exp_cost;
<a name="l00563"></a>00563         DWORD coordination_exp_cost;
<a name="l00564"></a>00564         DWORD quickness_exp_cost;
<a name="l00565"></a>00565         DWORD focus_exp_cost;
<a name="l00566"></a>00566         DWORD self_exp_cost;
<a name="l00567"></a>00567 
<a name="l00568"></a>00568         <span class="comment">//Vitals exp spent</span>
<a name="l00569"></a>00569         DWORD health_exp_cost;
<a name="l00570"></a>00570         DWORD stamina_exp_cost;
<a name="l00571"></a>00571         DWORD mana_exp_cost;
<a name="l00572"></a>00572 
<a name="l00573"></a>00573         <span class="comment">/*</span>
<a name="l00574"></a>00574 <span class="comment">        //Base skills</span>
<a name="l00575"></a>00575 <span class="comment">        int base_axe;</span>
<a name="l00576"></a>00576 <span class="comment">        int base_bow;</span>
<a name="l00577"></a>00577 <span class="comment">        int base_crossbow;</span>
<a name="l00578"></a>00578 <span class="comment">        int base_dagger;</span>
<a name="l00579"></a>00579 <span class="comment">        int base_mace;</span>
<a name="l00580"></a>00580 <span class="comment">        int base_meleed;</span>
<a name="l00581"></a>00581 <span class="comment">        int base_missiled;</span>
<a name="l00582"></a>00582 <span class="comment">        int base_spear;</span>
<a name="l00583"></a>00583 <span class="comment">        int base_staff;</span>
<a name="l00584"></a>00584 <span class="comment">        int base_sword;</span>
<a name="l00585"></a>00585 <span class="comment">        int base_tweapons;</span>
<a name="l00586"></a>00586 <span class="comment">        int base_unarmed;</span>
<a name="l00587"></a>00587 <span class="comment">        int base_arcane;</span>
<a name="l00588"></a>00588 <span class="comment">        int base_magicd;</span>
<a name="l00589"></a>00589 <span class="comment">        int base_manac;</span>
<a name="l00590"></a>00590 <span class="comment">        int base_itemtink;</span>
<a name="l00591"></a>00591 <span class="comment">        int base_assess_person;</span>
<a name="l00592"></a>00592 <span class="comment">        int base_deception;</span>
<a name="l00593"></a>00593 <span class="comment">        int base_healing;</span>
<a name="l00594"></a>00594 <span class="comment">        int base_jump;</span>
<a name="l00595"></a>00595 <span class="comment">        int base_lockpick;</span>
<a name="l00596"></a>00596 <span class="comment">        int base_run;</span>
<a name="l00597"></a>00597 <span class="comment">        int base_assess_creature;</span>
<a name="l00598"></a>00598 <span class="comment">        int base_weapontink;</span>
<a name="l00599"></a>00599 <span class="comment">        int base_armortink;</span>
<a name="l00600"></a>00600 <span class="comment">        int base_mitink;</span>
<a name="l00601"></a>00601 <span class="comment">        int base_creature;</span>
<a name="l00602"></a>00602 <span class="comment">        int base_item;</span>
<a name="l00603"></a>00603 <span class="comment">        int base_life;</span>
<a name="l00604"></a>00604 <span class="comment">        int base_war;</span>
<a name="l00605"></a>00605 <span class="comment">        int base_leadership;</span>
<a name="l00606"></a>00606 <span class="comment">        int base_loyalty;</span>
<a name="l00607"></a>00607 <span class="comment">        int base_fletching;</span>
<a name="l00608"></a>00608 <span class="comment">        int base_alchemy;</span>
<a name="l00609"></a>00609 <span class="comment">        int base_cooking;</span>
<a name="l00610"></a>00610 <span class="comment">        int base_salvage;</span>
<a name="l00611"></a>00611 <span class="comment">        </span>
<a name="l00612"></a>00612 <span class="comment">        //Skills experience spent</span>
<a name="l00613"></a>00613 <span class="comment">        DWORD axe_exp_spent;</span>
<a name="l00614"></a>00614 <span class="comment">        DWORD bow_exp_spent;</span>
<a name="l00615"></a>00615 <span class="comment">        DWORD crossbow_exp_spent;</span>
<a name="l00616"></a>00616 <span class="comment">        DWORD dagger_exp_spent;</span>
<a name="l00617"></a>00617 <span class="comment">        DWORD mace_exp_spent;</span>
<a name="l00618"></a>00618 <span class="comment">        DWORD meleed_exp_spent;</span>
<a name="l00619"></a>00619 <span class="comment">        DWORD missiled_exp_spent;</span>
<a name="l00620"></a>00620 <span class="comment">        DWORD spear_exp_spent;</span>
<a name="l00621"></a>00621 <span class="comment">        DWORD staff_exp_spent;</span>
<a name="l00622"></a>00622 <span class="comment">        DWORD sword_exp_spent;</span>
<a name="l00623"></a>00623 <span class="comment">        DWORD tweapons_exp_spent;</span>
<a name="l00624"></a>00624 <span class="comment">        DWORD unarmed_exp_spent;</span>
<a name="l00625"></a>00625 <span class="comment">        DWORD arcane_exp_spent;</span>
<a name="l00626"></a>00626 <span class="comment">        DWORD magicd_exp_spent;</span>
<a name="l00627"></a>00627 <span class="comment">        DWORD manac_exp_spent;</span>
<a name="l00628"></a>00628 <span class="comment">        DWORD itemtink_exp_spent;</span>
<a name="l00629"></a>00629 <span class="comment">        DWORD assess_person_exp_spent;</span>
<a name="l00630"></a>00630 <span class="comment">        DWORD deception_exp_spent;</span>
<a name="l00631"></a>00631 <span class="comment">        DWORD healing_exp_spent;</span>
<a name="l00632"></a>00632 <span class="comment">        DWORD jump_exp_spent;</span>
<a name="l00633"></a>00633 <span class="comment">        DWORD lockpick_exp_spent;</span>
<a name="l00634"></a>00634 <span class="comment">        DWORD run_exp_spent;</span>
<a name="l00635"></a>00635 <span class="comment">        DWORD assess_creature_exp_spent;</span>
<a name="l00636"></a>00636 <span class="comment">        DWORD weapontink_exp_spent;</span>
<a name="l00637"></a>00637 <span class="comment">        DWORD armortink_exp_spent;</span>
<a name="l00638"></a>00638 <span class="comment">        DWORD mitink_exp_spent;</span>
<a name="l00639"></a>00639 <span class="comment">        DWORD creature_exp_spent;</span>
<a name="l00640"></a>00640 <span class="comment">        DWORD item_exp_spent;</span>
<a name="l00641"></a>00641 <span class="comment">        DWORD life_exp_spent;</span>
<a name="l00642"></a>00642 <span class="comment">        DWORD war_exp_spent;</span>
<a name="l00643"></a>00643 <span class="comment">        DWORD leadership_exp_spent;</span>
<a name="l00644"></a>00644 <span class="comment">        DWORD loyalty_exp_spent;</span>
<a name="l00645"></a>00645 <span class="comment">        DWORD fletching_exp_spent;</span>
<a name="l00646"></a>00646 <span class="comment">        DWORD alchemy_exp_spent;</span>
<a name="l00647"></a>00647 <span class="comment">        DWORD cooking_exp_spent;</span>
<a name="l00648"></a>00648 <span class="comment">        DWORD salvage_exp_spent;</span>
<a name="l00649"></a>00649 <span class="comment">        */</span>
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         BYTE                    m_bBasicPaletteChange;
<a name="l00652"></a>00652         DWORD                   m_wBasicPaletteVector;
<a name="l00653"></a>00653         <a class="code" href="structs_palette_change.html">sPaletteChange</a>  m_BasicVectorPal[255];
<a name="l00654"></a>00654 
<a name="l00655"></a>00655         BYTE                    m_bBasicTextureChange;
<a name="l00656"></a>00656         DWORD                   m_wBasicTextureVector;
<a name="l00657"></a>00657         <a class="code" href="structs_texture_change.html">sTextureChange</a>  m_BasicVectorTex[255];
<a name="l00658"></a>00658         
<a name="l00659"></a>00659         BYTE                    m_bBasicModelChange;
<a name="l00660"></a>00660         DWORD                   m_wBasicModelVector;
<a name="l00661"></a>00661         <a class="code" href="structs_model_change.html">sModelChange</a>    m_BasicVectorMod[255];
<a name="l00662"></a>00662 
<a name="l00663"></a>00663         <span class="comment">//Cube:  Change model variables</span>
<a name="l00664"></a>00664         BYTE                    m_bPaletteChange;
<a name="l00665"></a>00665         DWORD                   m_wPaletteVector;
<a name="l00666"></a>00666         <a class="code" href="structs_palette_change.html">sPaletteChange</a>  m_vectorPal[255];
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         BYTE                    m_bTextureChange;
<a name="l00669"></a>00669         DWORD                   m_wTextureVector;
<a name="l00670"></a>00670         <a class="code" href="structs_texture_change.html">sTextureChange</a>  m_vectorTex[255];
<a name="l00671"></a>00671 
<a name="l00672"></a>00672         BYTE                    m_bModelChange;
<a name="l00673"></a>00673         DWORD                   m_wModelVector;
<a name="l00674"></a>00674         <a class="code" href="structs_model_change.html">sModelChange</a>    m_vectorMod[255];
<a name="l00675"></a>00675 
<a name="l00676"></a>00676         DWORD                   m_dwAllegianceID;
<a name="l00677"></a>00677         DWORD                   m_dwFellowshipID;
<a name="l00678"></a>00678 };
<a name="l00679"></a>00679 
<a name="l00680"></a>00680 <span class="comment">//Inline Functions</span>
<a name="l00681"></a>00681 <span class="comment">//================</span>
<a name="l00682"></a>00682 
<a name="l00683"></a>00683 <span class="keyword">inline</span> <a class="code" href="classc_message.html">cMessage</a> cAvatar::Particle( DWORD dwParticleID )
<a name="l00684"></a>00684 {
<a name="l00685"></a>00685         <a class="code" href="classc_message.html">cMessage</a> cParticle;
<a name="l00686"></a>00686         cParticle &lt;&lt; 0xF755L &lt;&lt; m_dwGUID &lt;&lt; dwParticleID &lt;&lt; 0x3F2B4E94L;
<a name="l00687"></a>00687         
<a name="l00688"></a>00688         <span class="keywordflow">return</span> cParticle;
<a name="l00689"></a>00689 }
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 <span class="keyword">inline</span> <a class="code" href="classc_message.html">cMessage</a> cAvatar::SoundEffect(DWORD dwSound, <span class="keywordtype">float</span> flPlaySpeed )
<a name="l00692"></a>00692 {
<a name="l00693"></a>00693         <a class="code" href="classc_message.html">cMessage</a> cParticle;
<a name="l00694"></a>00694         cParticle &lt;&lt; 0xF750L &lt;&lt; m_dwGUID &lt;&lt; dwSound &lt;&lt; flPlaySpeed;
<a name="l00695"></a>00695         
<a name="l00696"></a>00696         <span class="keywordflow">return</span> cParticle;
<a name="l00697"></a>00697 }
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 <span class="keyword">inline</span> <span class="keywordtype">void</span> cAvatar::SetLifestone( <a class="code" href="structc_location.html">cLocation</a> myLifestone )
<a name="l00700"></a>00700 {
<a name="l00701"></a>00701         m_LSLoc.m_dwLandBlock   = myLifestone.m_dwLandBlock;
<a name="l00702"></a>00702         m_LSLoc.<a class="code" href="structc_location.html#a6b83e87b4efc48213e19cb722e1b5a6e" title="landblock location">m_flX</a>                   = myLifestone.<a class="code" href="structc_location.html#a6b83e87b4efc48213e19cb722e1b5a6e" title="landblock location">m_flX</a>;
<a name="l00703"></a>00703         m_LSLoc.<a class="code" href="structc_location.html#abb74f271b533e549bd8d2bc6a55ddcf3" title="cartesian position (relative to landblock)">m_flY</a>                   = myLifestone.<a class="code" href="structc_location.html#abb74f271b533e549bd8d2bc6a55ddcf3" title="cartesian position (relative to landblock)">m_flY</a>;
<a name="l00704"></a>00704         m_LSLoc.<a class="code" href="structc_location.html#a27e3cdc4e217986e7bac1889d263d983" title="cartesian position (relative to landblock)">m_flZ</a>                   = myLifestone.<a class="code" href="structc_location.html#a27e3cdc4e217986e7bac1889d263d983" title="cartesian position (relative to landblock)">m_flZ</a>;
<a name="l00705"></a>00705         m_LSLoc.<a class="code" href="structc_location.html#a4aa33ff4c5c6cf2a25060663068ef45f" title="cartesian position (relative to landblock)">m_flA</a>                   = myLifestone.<a class="code" href="structc_location.html#a4aa33ff4c5c6cf2a25060663068ef45f" title="cartesian position (relative to landblock)">m_flA</a>;
<a name="l00706"></a>00706         m_LSLoc.<a class="code" href="structc_location.html#a85787eb9a3db54fdb1071512fb1eb899" title="quaternion orientation">m_flB</a>                   = myLifestone.<a class="code" href="structc_location.html#a85787eb9a3db54fdb1071512fb1eb899" title="quaternion orientation">m_flB</a>;
<a name="l00707"></a>00707         m_LSLoc.<a class="code" href="structc_location.html#ab313f3fe510baf118c4135660c768a59" title="quaternion orientation">m_flC</a>                   = myLifestone.<a class="code" href="structc_location.html#ab313f3fe510baf118c4135660c768a59" title="quaternion orientation">m_flC</a>;
<a name="l00708"></a>00708         m_LSLoc.<a class="code" href="structc_location.html#a3422de1b9aaff686f6c8735e90ff1d2c" title="quaternion orientation">m_flW</a>                   = myLifestone.<a class="code" href="structc_location.html#a3422de1b9aaff686f6c8735e90ff1d2c" title="quaternion orientation">m_flW</a>;
<a name="l00709"></a>00709 }
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 <span class="preprocessor">#endif  // #ifndef __AVATAR_H</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
